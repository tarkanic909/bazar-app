{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/data909/Projects/bazar-app/src/contexts/BlogContext/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useEffect, useReducer, useRef } from \"react\";\nimport blogReducer from \"./blogReducer\";\nimport fetchApi from \"../../services/fetchApi\";\nimport actions from \"./actions\";\nconst initialState = {\n  fetchError: {},\n  isLoading: false,\n  posts: [],\n  post: {},\n  testimonials: []\n};\nexport const BlogContext = /*#__PURE__*/createContext(initialState);\n\nfunction BlogContextProvider({\n  children\n}) {\n  _s();\n\n  const [state, dispatch] = useReducer(blogReducer, initialState);\n  const fetchPost = useRef(() => {});\n\n  fetchPost.current = id => {\n    const post = fetchApi(`http://localhost:3004/posts/${id}`);\n    post.then(post => {\n      dispatch({\n        type: actions.FETCH_POST,\n        payload: post\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  useEffect(() => {\n    dispatch({\n      type: actions.IS_LOADING,\n      payload: true\n    });\n    const posts = fetchApi(\"http://localhost:3004/posts\");\n    posts.then(posts => {\n      dispatch({\n        type: actions.FETCH_POSTS,\n        payload: posts\n      });\n      dispatch({\n        type: actions.IS_LOADING,\n        payload: false\n      });\n    }).catch(error => {\n      dispatch({\n        type: actions.FETCH_ERROR,\n        payload: error\n      });\n      dispatch({\n        type: actions.IS_LOADING,\n        payload: false\n      });\n    });\n  }, []);\n  useEffect(() => {\n    const testimonials = fetchApi(\"http://localhost:3004/testimonials\");\n    testimonials.then(posts => {\n      dispatch({\n        type: actions.FETCH_TESTIMONIALS,\n        payload: posts\n      });\n    }).catch(error => {});\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BlogContext.Provider, {\n    value: {\n      fetchError: state.fetchError,\n      isLoading: state.isLoading,\n      posts: state.posts,\n      post: state.post,\n      fetchPost,\n      testimonials: state.testimonials\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BlogContextProvider, \"O4hGx045aiSkDq0RRlCbdNb51fY=\");\n\n_c = BlogContextProvider;\nexport default BlogContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogContextProvider\");","map":{"version":3,"sources":["/home/data909/Projects/bazar-app/src/contexts/BlogContext/index.js"],"names":["React","createContext","useEffect","useReducer","useRef","blogReducer","fetchApi","actions","initialState","fetchError","isLoading","posts","post","testimonials","BlogContext","BlogContextProvider","children","state","dispatch","fetchPost","current","id","then","type","FETCH_POST","payload","catch","error","console","log","IS_LOADING","FETCH_POSTS","FETCH_ERROR","FETCH_TESTIMONIALS"],"mappings":"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","sourcesContent":["import React, { createContext, useEffect, useReducer, useRef } from \"react\";\nimport blogReducer from \"./blogReducer\";\nimport fetchApi from \"../../services/fetchApi\";\nimport actions from \"./actions\";\n\nconst initialState = {\n  fetchError: {},\n  isLoading: false,\n  posts: [],\n  post: {},\n  testimonials: [],\n};\n\nexport const BlogContext = createContext(initialState);\n\nfunction BlogContextProvider({ children }) {\n  const [state, dispatch] = useReducer(blogReducer, initialState);\n  const fetchPost = useRef(() => {});\n\n  fetchPost.current = (id) => {\n    const post = fetchApi(`http://localhost:3004/posts/${id}`);\n    post\n      .then((post) => {\n        dispatch({ type: actions.FETCH_POST, payload: post });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  useEffect(() => {\n    dispatch({ type: actions.IS_LOADING, payload: true });\n    const posts = fetchApi(\"http://localhost:3004/posts\");\n    posts\n      .then((posts) => {\n        dispatch({ type: actions.FETCH_POSTS, payload: posts });\n        dispatch({ type: actions.IS_LOADING, payload: false });\n      })\n      .catch((error) => {\n        dispatch({ type: actions.FETCH_ERROR, payload: error });\n        dispatch({ type: actions.IS_LOADING, payload: false });\n      });\n  }, []);\n\n  useEffect(() => {\n    const testimonials = fetchApi(\"http://localhost:3004/testimonials\");\n    testimonials\n      .then((posts) => {\n        dispatch({ type: actions.FETCH_TESTIMONIALS, payload: posts });\n      })\n      .catch((error) => {});\n  }, []);\n\n  return (\n    <BlogContext.Provider\n      value={{\n        fetchError: state.fetchError,\n        isLoading: state.isLoading,\n        posts: state.posts,\n        post: state.post,\n        fetchPost,\n        testimonials: state.testimonials,\n      }}\n    >\n      {children}\n    </BlogContext.Provider>\n  );\n}\n\nexport default BlogContextProvider;\n"]},"metadata":{},"sourceType":"module"}