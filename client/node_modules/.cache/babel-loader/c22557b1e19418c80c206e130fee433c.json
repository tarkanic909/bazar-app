{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/data909/Projects/bazar-app/src/components/Header/CartWidget/CartView/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CartContext } from \"../../../../contexts/CartContext\";\nimport CartViewItem from \"../CartViewItem\";\nimport \"./index.scss\";\n\nfunction CartView({\n  show,\n  setShow\n}) {\n  _s();\n\n  const {\n    cart\n  } = useContext(CartContext);\n  const wrapperElement = useRef(null);\n  const [height, setHeight] = useState(0);\n\n  function getOffset(element, property) {\n    return parseInt(getComputedStyle(element)[property]);\n  }\n\n  useEffect(() => {\n    if (show) {\n      const wrapper = wrapperElement.current;\n      const offset = getOffset(wrapper, \"marginTop\") + getOffset(wrapper, \"borderTopWidth\");\n      setHeight(wrapper.current.clientHeight + offset);\n    } else {\n      setHeight(0);\n    }\n  }, [show]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-view\",\n    style: {\n      height: height + \"px\"\n    },\n    onMouseEnter: () => {\n      setShow(true);\n    },\n    onMouseLeave: () => {\n      setShow(false);\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-view__wrapper\",\n      ref: wrapperElement,\n      children: cart.items.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: cart.items.map(item => {\n            return /*#__PURE__*/_jsxDEV(CartViewItem, {\n              item: item\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 24\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"cart-view__subtotal\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"subtotal:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"cart-view__amount\",\n            children: [\"$\", cart.total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-view__buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"cart-view__checkout\",\n            href: \"/\",\n            children: \"checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"cart-view__view\",\n            to: \"/cart\",\n            children: \"view cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"cart-view__no-products\",\n        children: \"No products in the cart.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CartView, \"T8R7jxMJQj+AvBstzMQYlBshW+Y=\");\n\n_c = CartView;\nexport default CartView;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartView\");","map":{"version":3,"sources":["/home/data909/Projects/bazar-app/src/components/Header/CartWidget/CartView/index.js"],"names":["React","useContext","useEffect","useRef","useState","Link","CartContext","CartViewItem","CartView","show","setShow","cart","wrapperElement","height","setHeight","getOffset","element","property","parseInt","getComputedStyle","wrapper","current","offset","clientHeight","items","length","map","item","id","total"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CartContext } from \"../../../../contexts/CartContext\";\nimport CartViewItem from \"../CartViewItem\";\nimport \"./index.scss\";\n\nfunction CartView({ show, setShow }) {\n  const { cart } = useContext(CartContext);\n  const wrapperElement = useRef(null);\n  const [height, setHeight] = useState(0);\n\n  function getOffset(element, property) {\n    return parseInt(getComputedStyle(element)[property]);\n  }\n\n  useEffect(() => {\n    if (show) {\n      const wrapper = wrapperElement.current;\n      const offset =\n        getOffset(wrapper, \"marginTop\") + getOffset(wrapper, \"borderTopWidth\");\n      setHeight(wrapper.current.clientHeight + offset);\n    } else {\n      setHeight(0);\n    }\n  }, [show]);\n\n  return (\n    <div\n      className=\"cart-view\"\n      style={{ height: height + \"px\" }}\n      onMouseEnter={() => {\n        setShow(true);\n      }}\n      onMouseLeave={() => {\n        setShow(false);\n      }}\n    >\n      <div className=\"cart-view__wrapper\" ref={wrapperElement}>\n        {cart.items.length ? (\n          <div>\n            <ul>\n              {cart.items.map((item) => {\n                return <CartViewItem key={item.id} item={item} />;\n              })}\n            </ul>\n            <p className=\"cart-view__subtotal\">\n              <strong>subtotal:</strong>\n              <span className=\"cart-view__amount\">${cart.total}</span>\n            </p>\n            <div className=\"cart-view__buttons\">\n              <a className=\"cart-view__checkout\" href=\"/\">\n                checkout\n              </a>\n              <Link className=\"cart-view__view\" to=\"/cart\">\n                view cart\n              </Link>\n            </div>\n          </div>\n        ) : (\n          <p className=\"cart-view__no-products\">No products in the cart.</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default CartView;\n"]},"metadata":{},"sourceType":"module"}