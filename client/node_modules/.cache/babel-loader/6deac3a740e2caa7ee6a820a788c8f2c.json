{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nexport default function useSlider(items, transitions, slider) {\n  _s();\n\n  const [counter, setCounter] = useState(1); // const [isAuto, setIsAuto] = useState(true);\n\n  const [newSlides, setNewSlides] = useState([]);\n  useEffect(() => {\n    const aaa = [{ ...items[items.length - 1]\n    }, { ...items[0]\n    }, { ...items[1]\n    }];\n    setNewSlides(aaa);\n  }, [items]);\n  useEffect(() => {// console.log(newSlides);\n  }, [newSlides]);\n  const newItems = [{ ...items[items.length - 1]\n  }, ...items, { ...items[0]\n  }];\n  const auto = useRef();\n  const moveNext = useRef(() => {});\n  const makeInterval = useRef(() => {});\n\n  function movePrev() {\n    setCounter(prevCounter => {\n      if (prevCounter === 0) {\n        return prevCounter;\n      }\n\n      return prevCounter - 1;\n    });\n  }\n\n  moveNext.current = () => {\n    // slider.current.style.transition = transitions.auto;\n    setCounter(prevCounter => {\n      if (counter >= newItems.length - 1) {\n        return 1;\n      }\n\n      return prevCounter + 1;\n    }); // setNewSlides((prevItems) => {\n    // console.log(prevItems);\n    // return prevItems;\n    // });\n  };\n\n  function clickPrev() {\n    setIsAuto(false);\n    slider.current.style.transition = transitions.manual;\n    movePrev();\n  }\n\n  function clickNext() {\n    // console.log(newSlides);\n    // setIsAuto(false);\n    slider.current.style.transition = transitions.manual;\n    slider.current.style.transform = `translateX(-${200}%)`; // moveNext.current();\n  }\n\n  function transitionEnd() {\n    if (counter === 0) {\n      slider.current.style.transition = transitions.end;\n      setCounter(newItems.length - 2);\n      return;\n    }\n\n    if (counter === 5) {\n      slider.current.style.transition = transitions.end;\n      setCounter(1);\n      return;\n    }\n\n    let bbb = [...newSlides];\n    bbb.shift();\n    bbb.push({ ...items[1 + 1]\n    });\n    console.log(bbb);\n    setNewSlides(bbb);\n    slider.current.style.transform = `translateX(-${100}%)`;\n  }\n\n  makeInterval.current = () => {\n    console.log(\"make interval\");\n    auto.current = setInterval(() => {\n      slider.current.style.transition = transitions.auto;\n      moveNext.current();\n    }, 3000);\n  }; // useEffect(() => {\n  // if (isAuto) {\n  // makeInterval.current();\n  //   } else {\n  //     clearInterval(auto.current);\n  //   }\n  //   setIsAuto(true);\n  //   return () => {\n  //     clearInterval(auto);\n  //   };\n  // }, [isAuto, makeInterval]);\n  // useEffect(() => {\n  // let offset = 100 * counter;\n  // let offset = 100;\n  //   slider.current.style.transform = `translateX(-${offset}%)`;\n  // }, [counter, slider]);\n\n\n  return {\n    transitionEnd,\n    clickPrev,\n    clickNext,\n    items: newSlides\n  };\n}\n\n_s(useSlider, \"B/jBWbakd9c5TL9kkOKcaOFQBjg=\");","map":{"version":3,"sources":["/home/data909/Projects/bazar-app/src/hooks/useSlider.js"],"names":["useEffect","useRef","useState","useSlider","items","transitions","slider","counter","setCounter","newSlides","setNewSlides","aaa","length","newItems","auto","moveNext","makeInterval","movePrev","prevCounter","current","clickPrev","setIsAuto","style","transition","manual","clickNext","transform","transitionEnd","end","bbb","shift","push","console","log","setInterval"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nexport default function useSlider(items, transitions, slider) {\n  const [counter, setCounter] = useState(1);\n  // const [isAuto, setIsAuto] = useState(true);\n  const [newSlides, setNewSlides] = useState([]);\n\n  useEffect(() => {\n    const aaa = [\n      { ...items[items.length - 1] },\n      { ...items[0] },\n      { ...items[1] },\n    ];\n    setNewSlides(aaa);\n  }, [items]);\n\n  useEffect(() => {\n    // console.log(newSlides);\n  }, [newSlides]);\n\n  const newItems = [{ ...items[items.length - 1] }, ...items, { ...items[0] }];\n  const auto = useRef();\n  const moveNext = useRef(() => {});\n  const makeInterval = useRef(() => {});\n\n  function movePrev() {\n    setCounter((prevCounter) => {\n      if (prevCounter === 0) {\n        return prevCounter;\n      }\n      return prevCounter - 1;\n    });\n  }\n\n  moveNext.current = () => {\n    // slider.current.style.transition = transitions.auto;\n    setCounter((prevCounter) => {\n      if (counter >= newItems.length - 1) {\n        return 1;\n      }\n      return prevCounter + 1;\n    });\n\n    // setNewSlides((prevItems) => {\n    // console.log(prevItems);\n    // return prevItems;\n    // });\n  };\n\n  function clickPrev() {\n    setIsAuto(false);\n    slider.current.style.transition = transitions.manual;\n    movePrev();\n  }\n\n  function clickNext() {\n    // console.log(newSlides);\n    // setIsAuto(false);\n    slider.current.style.transition = transitions.manual;\n    slider.current.style.transform = `translateX(-${200}%)`;\n    // moveNext.current();\n  }\n\n  function transitionEnd() {\n    if (counter === 0) {\n      slider.current.style.transition = transitions.end;\n      setCounter(newItems.length - 2);\n      return;\n    }\n\n    if (counter === 5) {\n      slider.current.style.transition = transitions.end;\n      setCounter(1);\n      return;\n    }\n    let bbb = [...newSlides];\n    bbb.shift();\n    bbb.push({ ...items[1 + 1] });\n    console.log(bbb);\n    setNewSlides(bbb);\n    slider.current.style.transform = `translateX(-${100}%)`;\n  }\n\n  makeInterval.current = () => {\n    console.log(\"make interval\");\n    auto.current = setInterval(() => {\n      slider.current.style.transition = transitions.auto;\n      moveNext.current();\n    }, 3000);\n  };\n\n  // useEffect(() => {\n  // if (isAuto) {\n  // makeInterval.current();\n  //   } else {\n  //     clearInterval(auto.current);\n  //   }\n  //   setIsAuto(true);\n  //   return () => {\n  //     clearInterval(auto);\n  //   };\n  // }, [isAuto, makeInterval]);\n\n  // useEffect(() => {\n  // let offset = 100 * counter;\n  // let offset = 100;\n  //   slider.current.style.transform = `translateX(-${offset}%)`;\n  // }, [counter, slider]);\n\n  return {\n    transitionEnd,\n    clickPrev,\n    clickNext,\n    items: newSlides,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}